<div class="seam-progress-circle" *ngIf="_progressInfo as p"
  [class.seam-progress-circle--in-complete]="p.percent < 100"
  [class.seam-progress-circle--fill-bg]="fillBackground">
  <div class="seam-progress-circle-inner">
    <ng-container *ngIf="p.percent > 0 || !hiddenOnEmpty">
      <svg class="seam-progress-circle--icon-spinner" viewBox="0 0 40 40" [attr.data-percent]="p.percent">
        <circle class="seam-progress-circle--icon-spinner-path seam-progress-circle--icon-spinner-path-bg" cx="20" cy="20" r="15" fill="none"
          stroke-width="4">
        </circle>
        <circle class="seam-progress-circle--icon-spinner-path" cx="20" cy="20" r="15" fill="none"
          transform="rotate(-90, 20, 20)"
          stroke-width="4"
          stroke-miterlimit="10"
          [attr.stroke-dashoffset]="p.dashoffset"
          [style.stroke-dasharray]="p.circumference">
        </circle>
        <!-- Checkmark -->
        <path *ngIf="!pending && p.percent === 100"
          class="seam-progress-circle--icon-spinner-path"
          fill="none"
          stroke-width="4"
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M 11,22 L 18,28 L 28.5,17">
        </path>
        <!-- Hourglass -->
        <!-- `p.percent === 101` is still here for backwards compatability, but planing to be removed. -->
        <path *ngIf="pending || p.percent === 101"
          class="seam-progress-circle--icon-hourglass"
          fill="none"
          d="M27.3,25.8c-0.2-2.5-1.6-4.6-3.6-5.8c2-1.2,3.4-3.3,3.6-5.8c0.7-0.3,1.2-1,1.2-1.8c0-1.1-0.9-2-2-2h-13
          c-1.1,0-2,0.9-2,2c0,0.8,0.5,1.6,1.2,1.8c0.2,2.5,1.6,4.6,3.6,5.8c-2,1.2-3.4,3.3-3.6,5.8c-0.7,0.3-1.2,1-1.2,1.8c0,1.1,0.9,2,2,2
          h13c1.1,0,2-0.9,2-2C28.6,26.9,28,26.1,27.3,25.8z M24.3,25.7h-8.5c0.3-2.1,2.1-3.6,4.2-3.6S24,23.6,24.3,25.7z M20,18
          c-2.1,0-3.9-1.6-4.2-3.6h8.5C24,16.5,22.2,18,20,18z">
        </path>
      </svg>
    </ng-container>
    <div class="seam-progress-circle--icon-text" *ngIf="showText && !pending && p.percent > 0 && p.percent < 100">
      <span>{{ p.percent }}</span>
    </div>
  </div>
</div>
