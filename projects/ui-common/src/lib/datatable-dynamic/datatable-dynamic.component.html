<ng-container *ngIf="_hasDef$ | async">
  <seam-datatable *ngIf="_options$ | async as opts"
    class="w-100 h-100"
    [columns]="_tmp_columns$ | async"
    [rows]="_tmp_rows$ | async"
    [virtualization]="opts.virtualization">

    <seam-datatable-menu-bar *ngIf="menuBar$ | async as menuBar">
      <seam-datatable-dynamic-menu-bar-content></seam-datatable-dynamic-menu-bar-content>
    </seam-datatable-menu-bar>
    <seam-datatable-menu-bar *ngIf="_hasFilterMenu$ | async">
      <div class="d-flex flex-row pb-2">
        <div class="d-flex flex-row justify-content-end flex-grow-1">
          <seam-data-filter-search seamDatatableFilter *ngIf="_hasFullSearch$"></seam-data-filter-search>
        </div>
      </div>
      <div class="d-flex flex-row">
        <div class="d-flex justify-content-center flex-grow-1">
          <ng-container *ngFor="let r of _commonFilterMenuItems$ | async; let isFirst = first">
            <seam-datatable-dynamic-filter-container
              [class.ml-1]="!isFirst"
              [filterComponent]="r.component"
              [options]="r.options">
            </seam-datatable-dynamic-filter-container>
          </ng-container>
        </div>
        <seam-datatable-export-button *ngIf="_exporters$ | async as exporters"
          [exporters]="exporters">
        </seam-datatable-export-button>
      </div>
    </seam-datatable-menu-bar>

    <ng-template seamDatatableRowActionItem let-row>
      <seam-datatable-dynamic-action-menu [row]="row"></seam-datatable-dynamic-action-menu>
    </ng-template>

  </seam-datatable>
</ng-container>
